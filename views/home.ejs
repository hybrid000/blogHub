<%- include('partials/header') -%>

    <div class="hero">
        <h1>Welcome to My Blog</h1>
        <p>
            <%= inputhome %>
        </p>
    </div>


    <section class="blogs">
        <h3>READ THE LATEST BLOGS:</h3>

        <% posts.forEach((item)=> { %>
            <div class="blog-post">
                <h2>
                    <%= item.title %>
                </h2>
                <h5>
                    By: <%= item.author %>
                </h5>
                <!-- Function to strip HTML tags -->
                <% function stripHTMLTags(text) { return text ? text.replace(/<[^>]+>/g, '') : '';
                    } %>
                    <!-- Truncate the content to a specific number of characters, e.g., 220 characters -->
                    <% const truncatedContent=stripHTMLTags(item.content).length> 220 ?
                        stripHTMLTags(item.content).substring(0, 180) + "..." : stripHTMLTags(item.content); %>
                        <p>
                            <%= truncatedContent %>
                                <!-- Link to the full post -->
                                <a href="/posts/<%= item._id %>" class="read-more">Read More</a>
                        </p>
            </div>
        <% }); %>


                <!-- Pagination buttons -->
    <div class="pagination">
        <% if (currentPage> 1) { %>
            <a href="/?page=<%= currentPage - 1 %>" class="pagination-button previous-button">Previous</a>
            <% } %>
    
                <% if (currentPage < totalPages) { %>
                    <a href="/?page=<%= currentPage + 1 %>" class="pagination-button next-button">Next</a>
                    <% } %>
    </div>


    </section>

    <%- include('partials/footer') -%>